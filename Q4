package Evaluation;

import java.util.* ;

public class Q4 {

    static ArrayList<String> answer = new ArrayList<>();

    static String original_password;

    static boolean flag = true;

    public static String checker(ArrayList<String> p, String s) {


        if(s=="") {

            flag = true ;

        }
        if (p.contains(s)) {

            answer.add(new String(s));

            return original_password.substring(s.length(), original_password.length());

        }

        String x;

        x = checker(p, s.substring(0, s.length() - 1));

        String y;

        for (int i = 1; i < x.length(); i++) {

            y = x.substring(0, i);

            if (p.contains(y)) {

                answer.add(new String(y));

                int y_len = y.length();

                return x.substring(y_len, x.length());

            }

            if (i == x.length() - 1) {

                answer.clear();

                flag = false;

                return "false";

            }
        }

        return x ;

    }


    public static void main(String[] args) {

        System.out.println(" Enter the Number of Passwords ");

        Scanner sc = new Scanner(System.in) ;

        int n = sc.nextInt();

        System.out.println(" Enter the Accepted Passwords");

        ArrayList<String> s = new ArrayList<>();

        for(int i=0;i<n;i++) {

            s.add(sc.next());

        }

        System.out.println(" Enter the Password ");

        String password = sc.next();

        String h = checker(s, password);

        if(answer.size()==0){

            System.out.println(" WRONG PASSWORD ");

        }

        else {

            for(int i=0;i<answer.size();i++) {

                System.out.print(answer.get(i)+" ");

            }
        }




    }

}
